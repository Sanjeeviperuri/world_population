# world_population

Forecasting and Visualize World Population
Packages Summary
- library(shiny) 			: Shiny main packages
- library(shinyjs) 		: Shiny js, the main function is to delay tensorflow loader in forecasting.R to prevent laging when open shiny app
- library(dplyr) 			: this packages use to open multiple R and Rmd file in Shiny Markdown
- library(knitr) 			: HTML Generator for shinny
- library(kableExtra) 		: Table generator
- library(plotly)			: Interactive ploting packages in order to make ggplot interactive, such as hovering, labeling interacvtively
- library(sf)			: to encode spatial vector to generate map vector
- library(rnaturalearth) 		: to access map data
- library(rnaturalearthdata) 	: to access and save map data
- library(scales) 		: generic function whose default method centers and/or scales the columns of a numeric matrix, to scale x or y axis in ggplot
- library(psych) 			: Functions for analyzing data at multiple levels include within and between group statistics, including correlations and factor analysis, is use to summarize data
- require(rmarkdown)		: rmarkdown package
- library(reshape) 		: main uses for app is melting data: Melting in R programming is done to organize the data. It is performed using melt() function which takes dataset and column values that has to be kept constant. 
- library(reticulate)		: to embed Python Session in R, in order to run tensorflow
- library(ggplot2)		: outstanding ploting packages in R
- library(keras)			: load AI from tensor flow


# Do this in the R Studio Console
> install.packages(c("shinyjs", "dplyr", "knitr", "shiny", "kableExtra", "plotly", "sf", "rnaturalearth", "rnaturalearthdata", "scales", "psych", "reshape", "reticulate"))

# Do TensorFlow Installation
> install.packages("tensorflow")

> library(tensorflow)

> install_tensorflow()


--- Shiny App Public ---

https://www.shinyapps.io/admin/

APP: https://world-population.shinyapps.io/main/

--- Program ---

# Main APP
main.Rmd : the home page, that show dashboard design, menu, and connecting other R files (Shiny Markdown)
	This files also generate the Introduction, Methodology, and Conclusion Directly

# Source Code Page
code.R : This file generate the "Source Code" pages and connecting the Rmd file in order to show the code in the main App (Shiny sub program). This file look these files:
 - world_code.Rmd
 - country_code.Rmd
 - forecasting_code.Rmd
 - map_code.Rmd
These files while explained below

# World Data
The data is annual time-series data from The World Bank. This data is the total annual population variable for 214 countries with valid data from 1960 – 2020. Not Valid data: Eritrea, Kuwait, West Bank, and Gaza. The data from 2021 - 2030 is forecasting results using the Multi-Layer Perceptron (MLP) neural network available on the “forecasting” page.

world.R : This file generate the "World Data" pages in main APP (Shiny sub program)
	-Boxplot
	-Population 
	-Summary
	-World Data

world_code.Rmd: This file directly access the world.R and show it in Source Code page. When processed the file generated world_code.md

# Country Data
This page provides interactive comparison, rank, and data filtering for 214 countries plus the total world population. This data visualization is also available for forecasting results in 2021 - 2018.

country.R : This file generate the "Countries Data" pages in main APP (Shiny sub program)
	- Interactive Compare
	- Filter Data
	- Rank

country_code.Rmd: This file directly access the country.R and show it in Source Code page. When processed the file generated country_code.md

# Forecasting
The model use MAPE as key performance indicator, its because the model predict 10 years directly. We choosed validation MAPE with 30:70 validation ratio as model performance that iterated using 20 Epochs. The output may generate decimal population forecast. We keep it for precision purposes.

forecasting.R : This file generate the "Forecasting" pages in main APP (Shiny sub program)
			
	- Saved Result
		Predefined result for fast look the forecasting model and result
	
	This sub-tab above load the model from model_generator directory using tensorflow

	- Model (Not Available in Public APP): Summary of MLP Modeling for each country
	- Performance Plot (Not Available in Public APP) : MAPE performance for each country
	- Fit Visualization (Not Available in Public APP) : Visualize how the data is fitting by the model
	- Forecast Future (Not Available in Public APP) : Forecast directly using the model that generated by generator.R in model_generator directory

forecasting_codeRmd : This file directly access the forecasting.R and show it in Source Code page. When processed the file generated forecasting_code.md


# Generator.R in model_generator directory
	Warning, if you run the program, it might take 1 hour to generate all model again.
	This Program is the core of forecasting model that includes SWTS model, MLP architecture, and saved the result:
		* Model: all folder which use country code name
		* Forecasting result: forecast_data.Rds
		* Model Performance: history_data.Rds
	These files is uses by shiny App

# Map Viz
map.R : this file generate map viz (Shiny sub program)

map_code.Rmd : This file directly access the map.R and show it in Source Code page. When processed the file generated map_code.md
